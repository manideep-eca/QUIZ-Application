<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interactive Quiz with Timer & Animation</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      color: #fff;
    }

    .quiz-container {
      background: #2c2f4a;
      border-radius: 15px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
      width: 100%;
      max-width: 700px;
      padding: 30px 40px;
      display: flex;
      flex-direction: column;
      gap: 25px;
      position: relative;
      overflow: hidden;
    }

    .quiz-header {
      font-size: 1.6rem;
      font-weight: 600;
      opacity: 0;
      transform: translateX(30px);
      animation: fadeSlideIn 0.5s forwards;
    }

    @keyframes fadeSlideIn {
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .options {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 12px;
      opacity: 0;
      transform: translateX(30px);
      animation: fadeSlideIn 0.5s 0.1s forwards;
    }

    .options li {
      background: #45486e;
      padding: 12px 18px;
      border-radius: 10px;
      cursor: pointer;
      user-select: none;
      font-size: 1.1rem;
      transition: background 0.3s ease, border-color 0.3s ease;
      border: 2px solid transparent;
    }

    .options li:hover {
      background: #5c63b1;
    }

    .options li.selected {
      background: #7b88d8;
      border-color: #fff;
      font-weight: 600;
    }

    .navigation {
      display: flex;
      justify-content: space-between;
      gap: 20px;
      opacity: 0;
      transform: translateX(30px);
      animation: fadeSlideIn 0.5s 0.2s forwards;
    }

    button {
      background: #667eea;
      border: none;
      padding: 12px 25px;
      border-radius: 50px;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
      flex: 1;
    }

    button:disabled {
      background: #4c5098;
      cursor: not-allowed;
    }

    button:hover:not(:disabled) {
      background: #556cd6;
    }

    .progress-bar {
      height: 12px;
      width: 100%;
      background: #45486e;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 10px;
      box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
    }

    .progress-fill {
      height: 100%;
      background: #667eea;
      width: 0%;
      border-radius: 8px 0 0 8px;
      transition: width 0.4s ease;
    }

    .score-container {
      text-align: center;
    }

    .score-container h2 {
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .score-container p {
      font-size: 1.1rem;
      color: #ccc;
      margin-bottom: 20px;
    }

    .timer {
      font-weight: 600;
      font-size: 1rem;
      color: #f1c40f;
      position: absolute;
      top: 15px;
      right: 30px;
      user-select: none;
      opacity: 0;
      transform: translateY(-10px);
      animation: fadeSlideIn 0.5s forwards;
    }

    @media (max-width: 480px) {
      .quiz-container {
        padding: 25px 20px;
      }

      button {
        padding: 10px 15px;
        font-size: 0.9rem;
      }

      .quiz-header {
        font-size: 1.3rem;
      }

      .timer {
        font-size: 0.9rem;
        top: 10px;
        right: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="quiz-container" id="quiz">
    <div class="progress-bar">
      <div class="progress-fill" id="progress-fill"></div>
    </div>
    <div class="timer" id="timer">Time: 15s</div>
    <div class="quiz-header" id="question">Question text</div>
    <ul class="options" id="options">
      <!-- Options inserted dynamically -->
    </ul>

    <div class="navigation">
      <button id="prevBtn" disabled>Previous</button>
      <button id="nextBtn" disabled>Next</button>
    </div>
  </div>

  <script>
    const quizData = [
      {question: "What is the capital of France?", options: ["Berlin", "Madrid", "Paris", "Lisbon"], answer: 2},
      {question: "Which planet is known as the Red Planet?", options: ["Earth", "Mars", "Jupiter", "Saturn"], answer: 1},
      {question: "Who wrote 'Romeo and Juliet'?", options: ["Mark Twain", "William Shakespeare", "Charles Dickens", "Leo Tolstoy"], answer: 1},
      {question: "What is the smallest prime number?", options: ["0", "1", "2", "3"], answer: 2},
      {question: "Which language is primarily spoken in Brazil?", options: ["Spanish", "Portuguese", "English", "French"], answer: 1},
      {question: "What is the chemical symbol for water?", options: ["CO2", "H2O", "O2", "HO"], answer: 1},
      {question: "Which continent is Egypt located in?", options: ["Asia", "Europe", "Africa", "South America"], answer: 2},
      {question: "How many sides does a hexagon have?", options: ["5", "6", "7", "8"], answer: 1},
      {question: "Which gas do plants absorb from the atmosphere?", options: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"], answer: 2},
      {question: "Who painted the Mona Lisa?", options: ["Vincent Van Gogh", "Pablo Picasso", "Leonardo da Vinci", "Michelangelo"], answer: 2},
      {question: "Which is the largest ocean on Earth?", options: ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"], answer: 3},
      {question: "What is the powerhouse of the cell?", options: ["Nucleus", "Mitochondria", "Ribosome", "Chloroplast"], answer: 1},
      {question: "Which country hosted the 2016 Summer Olympics?", options: ["China", "Brazil", "UK", "Russia"], answer: 1},
      {question: "Which is the tallest mountain in the world?", options: ["K2", "Kangchenjunga", "Mount Everest", "Lhotse"], answer: 2},
      {question: "What is the main ingredient in guacamole?", options: ["Tomato", "Avocado", "Onion", "Pepper"], answer: 1},
      {question: "Which element has the atomic number 1?", options: ["Oxygen", "Hydrogen", "Carbon", "Helium"], answer: 1},
      {question: "In which year did World War II end?", options: ["1945", "1939", "1918", "1963"], answer: 0},
      {question: "Which instrument has keys, pedals, and strings?", options: ["Guitar", "Piano", "Violin", "Drum"], answer: 1},
      {question: "What does DNA stand for?", options: ["Deoxyribonucleic Acid", "Dinucleic Acid", "Ribonucleic Acid", "None of the above"], answer: 0},
      {question: "Who discovered gravity?", options: ["Albert Einstein", "Isaac Newton", "Galileo Galilei", "Nikola Tesla"], answer: 1},
    ];

    const quiz = document.getElementById('quiz');
    let questionEl = document.getElementById('question');
    let optionsEl = document.getElementById('options');
    let prevBtn = document.getElementById('prevBtn');
    let nextBtn = document.getElementById('nextBtn');
    let progressFill = document.getElementById('progress-fill');
    const timerEl = document.getElementById('timer');

    let currentQuestion = 0;
    let answers = new Array(quizData.length).fill(null);

    // Timer settings
    const timePerQuestion = 15; // seconds
    let timer;
    let timeLeft = timePerQuestion;

    function startTimer() {
      clearInterval(timer);
      timeLeft = timePerQuestion;
      timerEl.textContent = `Time: ${timeLeft}s`;
      timerEl.style.color = '#f1c40f';

      timer = setInterval(() => {
        timeLeft--;
        timerEl.textContent = `Time: ${timeLeft}s`;
        if (timeLeft <= 5) {
          timerEl.style.color = '#e74c3c';
        }
        if (timeLeft === 0) {
          clearInterval(timer);
          // Auto-move next question or finish quiz
          if (answers[currentQuestion] === null) {
            // If no answer selected, mark null and move on
            answers[currentQuestion] = null;
            nextBtn.disabled = false;
          }
          nextBtn.click();
        }
      }, 1000);
    }

    function loadQuestion() {
      clearInterval(timer);
      const q = quizData[currentQuestion];
      questionEl.textContent = `Q${currentQuestion + 1}. ${q.question}`;
      optionsEl.innerHTML = '';

      q.options.forEach((option, index) => {
        const li = document.createElement('li');
        li.textContent = option;
        li.dataset.index = index;
        if (answers[currentQuestion] === index) {
          li.classList.add('selected');
        }
        li.addEventListener('click', () => {
          selectOption(index);
        });
        optionsEl.appendChild(li);
      });

      // Update buttons
      prevBtn.disabled = currentQuestion === 0;
      nextBtn.disabled = answers[currentQuestion] === null;

      // Update progress bar
      const progressPercent = ((currentQuestion) / quizData.length) * 100;
      progressFill.style.width = `${progressPercent}%`;

      startTimer();
    }

    function selectOption(index) {
      answers[currentQuestion] = index;

      Array.from(optionsEl.children).forEach(li => {
        li.classList.remove('selected');
      });
      optionsEl.children[index].classList.add('selected');

      nextBtn.disabled = false;
    }

    function showScore() {
      clearInterval(timer);
      quiz.innerHTML = `
        <div class="score-container">
          <h2>Quiz Completed!</h2>
          <p>Your Score: ${calculateScore()} / ${quizData.length}</p>
          <button id="restartBtn">Restart Quiz</button>
        </div>
      `;

      document.getElementById('restartBtn').addEventListener('click', () => {
        currentQuestion = 0;
        answers.fill(null);
        renderQuiz();
      });
    }

    function calculateScore() {
      let score = 0;
      answers.forEach((answer, i) => {
        if (answer === quizData[i].answer) {
          score++;
        }
      });
      return score;
    }

    function renderQuiz() {
      quiz.innerHTML = `
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="timer" id="timer">Time: 15s</div>
        <div class="quiz-header" id="question"></div>
        <ul class="options" id="options"></ul>

        <div class="navigation">
          <button id="prevBtn" disabled>Previous</button>
          <button id="nextBtn" disabled>Next</button>
        </div>
      `;

      // Reassign elements after re-rendering
      questionEl = document.getElementById('question');
      optionsEl = document.getElementById('options');
      prevBtn = document.getElementById('prevBtn');
      nextBtn = document.getElementById('nextBtn');
      progressFill = document.getElementById('progress-fill');

      prevBtn.addEventListener('click', () => {
        if (currentQuestion > 0) {
          currentQuestion--;
          loadQuestion();
        }
      });

      nextBtn.addEventListener('click', () => {
        if (currentQuestion < quizData.length - 1) {
          currentQuestion++;
          loadQuestion();
        } else {
          showScore();
        }
      });

      loadQuestion();
    }

    // Initial render
    renderQuiz();
  </script>
</body>
</html>
